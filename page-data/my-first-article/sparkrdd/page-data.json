{"componentChunkName":"component---node-modules-gatsby-theme-portfolio-minimal-src-templates-article-index-tsx","path":"/my-first-article/sparkrdd/","result":{"pageContext":{"article":{"banner":{"alt":"Spark","caption":"Photo by <u><a href=\"https://spark.apache.org\">Spark</a></u>","src":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAACQklEQVR42mP4Twz4+xdIfD2x+Wmm4d+Pb0Ai//4BCQbCOoHqfv8C0u+XND5OUHk7u/TXk9ufd857v6yF4S/Y1H9gAGfAAdySv18/Pit1+HZ218uW0NfdcY+i5V61RzGg2gHV/+fPHxDj718g/9fDq2+mZL9oCXu/oPbft89AL3w5tPp1T+Lf718YHj9+DFR38MChM2fOHjly9Nix4ydPnLx29drx4yeOHT5y+tL170fW3HFj+jAh+c/Xj2DT/r9sCPi0bRbIz4H+wa9evb59+/aDBw8/fPhw8cLFG9dvvHn95smTJ3fv3rt16xbISR8eH+kqmN7b/evf/xfXz39e1/u82vP/n98Mz58///79+4b1G/JzCxYsWAh084/vP6ZOmZadmbN2zVqgxn1790+fNa+ps6+1pb29d/K27oqPVS4PIiR/PrjC8OPHj5kzZqUkpx08eCg4MHTtmnWtLW1VldX79x3w8fLbumVbVGTMimXLmxuazE0t58yeAzTuz6d3v57c+vf3D0N+XmF6WubVq9eAorNmzU5NSc9Iz3z79i2Q297aUVNVW1xY+uvXr+KiUhcnt+nTZoBj/S8kgBkqyio93b0m9E/cvWt3aEj4kcNHYqLigM7eu3dfVmZOZUV1cWHJz58//X0DgMEZEhy2bt16oLbfv36CNAODNyIsqrysEmj/kcNHgUJnz5zNSM9qaW5dtXI1EG3csOnP7z8tzW1fv34FKu5o73z54iUQgDRv2by1ob4R7hhowsCe0v6hyQIAb+47xF+wYqUAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/be399145ad033fb2b5626e243b7bde07/5d48c/spark-cover.png","srcSet":"/static/be399145ad033fb2b5626e243b7bde07/4ee5e/spark-cover.png 78w,\n/static/be399145ad033fb2b5626e243b7bde07/b1f1f/spark-cover.png 156w,\n/static/be399145ad033fb2b5626e243b7bde07/5d48c/spark-cover.png 312w","sizes":"(min-width: 312px) 312px, 100vw"},"sources":[{"srcSet":"/static/be399145ad033fb2b5626e243b7bde07/ddb87/spark-cover.webp 78w,\n/static/be399145ad033fb2b5626e243b7bde07/e77d5/spark-cover.webp 156w,\n/static/be399145ad033fb2b5626e243b7bde07/b6f70/spark-cover.webp 312w","type":"image/webp","sizes":"(min-width: 312px) 312px, 100vw"}]},"width":660,"height":399.8076923076923}}}},"body":"<h1>💬 Apache Spark</h1>\n<p><img src=\"https://raw.githubusercontent.com/jms0522/jms0522.github.io/main/content/images/spark-cover.png\" alt=\"Spark\"></p>\n<h2>💫 RDD란 무엇인가?</h2>\n<p><a href=\"https://raw.githubusercontent.com/jms0522/jms0522.github.io/main/content/images/rdd-2.png\">RDD</a></p>\n<p><strong>RDD</strong>(Resilient Distributed Dataset)는 Apache Spark의 핵심 데이터 구조로,</p>\n<p>읽기 전용 권한이 있는 분산 메모리 컬렉션 이며, 가장 중요한 것은 내결함성이 있습니다.</p>\n<p>RDD는 대규모 데이터를 다루는 데 있어 강력한 성능과 내결함성(Fault-Tolerance)을 제공하며, 여러 클러스터 노드에 걸쳐 데이터를 분산 처리할 수 있게 해줍니다.</p>\n<p><a href=\"https://raw.githubusercontent.com/jms0522/jms0522.github.io/main/content/images/rdd-1.png\">RDD</a></p>\n<h3>✓ RDD의 주요 특징</h3>\n<ul>\n<li><strong>불변성(Immutability)</strong>: RDD는 한 번 생성되면 변경할 수 없습니다. 모든 변환(Transformation)은 기존 RDD를 바탕으로 새로운 RDD를 생성합니다.</li>\n<li><strong>내결함성(Fault-Tolerance)</strong>: RDD는 데이터를 복구할 수 있는 lineage 정보를 저장하여, 작업 도중 일부 데이터가 손실되더라도 복구할 수 있습니다.</li>\n<li><strong>병렬 처리(Parallel Processing)</strong>: RDD는 클러스터의 여러 노드에서 데이터를 병렬로 처리하여 대규모 데이터를 효율적으로 처리할 수 있습니다.</li>\n<li><strong>Lazy Evaluation</strong>: RDD의 변환은 즉시 실행되지 않으며, 액션(Action)이 호출될 때까지 지연되어 실행 계획을 최적화합니다.</li>\n</ul>\n<h2>🚀 RDD의 작동 방식</h2>\n<h3>RDD의 변환(Transformations)</h3>\n<p>변환은 RDD를 입력으로 받아서 새로운 RDD를 생성하는 함수입니다. 변환은 Lazy Evaluation으로 실행되며, 그 결과는 액션이 호출될 때 계산됩니다.</p>\n<ul>\n<li><strong>map(func)</strong>: 각 요소에 대해 함수 <code class=\"language-text\">func</code>를 적용하여 새로운 RDD를 생성합니다.</li>\n<li><strong>filter(func)</strong>: 조건에 맞는 요소들만을 포함하는 새로운 RDD를 생성합니다.</li>\n<li><strong>flatMap(func)</strong>: 각 요소를 여러 개의 요소로 매핑하여 펼쳐진(flattened) RDD를 생성합니다.</li>\n</ul>\n<h3>✓ RDD의 액션(Actions)</h3>\n<p>액션은 RDD에서 결과를 추출하거나 외부 저장소에 저장하는 연산입니다. 액션을 호출하면 변환된 RDD가 실제로 평가됩니다.</p>\n<ul>\n<li><strong>collect()</strong>: 모든 요소를 드라이버 프로그램으로 반환합니다.</li>\n<li><strong>count()</strong>: RDD의 요소 수를 셉니다.</li>\n<li><strong>saveAsTextFile(path)</strong>: RDD를 텍스트 파일로 저장합니다.</li>\n</ul>\n<h2>⚒️ RDD와 다른 데이터 구조 비교</h2>\n<h3>✓ RDD vs DataFrame</h3>\n<p><strong>DataFrame</strong>은 구조화된 데이터의 분산 컬렉션으로, 스키마를 가지며 SQL 쿼리와 같은 방식으로 데이터를 다룰 수 있습니다. DataFrame은 RDD의 상위 추상화로 볼 수 있습니다.</p>\n<ul>\n<li><strong>API</strong>: DataFrame은 SQL 쿼리와 유사한 고수준의 API를 제공하여, 데이터를 더 쉽게 조작할 수 있습니다. 반면 RDD는 저수준 API로, 더 세밀한 제어가 가능합니다.</li>\n<li><strong>성능</strong>: DataFrame은 Catalyst 옵티마이저를 사용하여 쿼리 최적화가 가능하므로, RDD보다 일반적으로 더 높은 성능을 제공합니다.</li>\n<li><strong>타입 안정성</strong>: RDD는 타입 안정성을 제공하지만, DataFrame은 런타임에 스키마가 적용되므로 컴파일 시 타입 검사가 불가능할 수 있습니다.</li>\n</ul>\n<h3>✓ RDD vs Dataset</h3>\n<p><strong>Dataset</strong>은 DataFrame과 유사하지만, 타입 안정성과 객체 지향 프로그래밍을 지원합니다. Dataset은 RDD와 DataFrame의 장점을 결합한 데이터 구조입니다.</p>\n<ul>\n<li><strong>타입 안정성</strong>: Dataset은 강력한 타입 안정성을 제공하여, 컴파일 타임에 데이터 타입을 검증할 수 있습니다.</li>\n<li><strong>성능</strong>: Dataset은 DataFrame처럼 Catalyst 옵티마이저를 사용하여 높은 성능을 제공하지만, RDD보다 성능 면에서 더 유리할 수 있습니다.</li>\n<li><strong>유연성</strong>: Dataset은 RDD처럼 복잡한 로직을 쉽게 구현할 수 있으며, 동시에 DataFrame처럼 고수준 API를 사용할 수 있습니다.</li>\n</ul>\n<h2>🌟 RDD의 장단점</h2>\n<h3>✓ 장점</h3>\n<ul>\n<li><strong>유연성</strong>: 다양한 데이터를 처리할 수 있는 유연한 API를 제공합니다.</li>\n<li><strong>내결함성</strong>: 데이터 손실이 발생해도 lineage를 통해 복구가 가능합니다.</li>\n<li><strong>병렬 처리</strong>: 대규모 데이터를 분산 처리하여 성능을 극대화할 수 있습니다.</li>\n</ul>\n<h3>✓ 단점</h3>\n<ul>\n<li><strong>성능</strong>: DataFrame이나 Dataset에 비해 성능이 낮을 수 있습니다. (복잡한 쿼리일수록 더욱 성능 낮아짐)</li>\n<li><strong>복잡성</strong>: 저수준 API를 사용해야 하므로, 복잡한 작업을 구현할 때 더 많은 코드가 필요할 수 있습니다.</li>\n</ul>\n<h2>🧑🏻‍💻 결론</h2>\n<p>Apache Spark의 RDD는 빅데이터 처리에 있어 강력하고 꼭 필요한 도구라고 생각됩니다.</p>\n<p>MapReduce와 비교했을 때, 인메모리 데이터 공유는 RDD를 네트워크 및 디스크 공유보다 10~100배 더 빠르다는 말을 들어본 적 있다.</p>\n<p>하지만 이것은 <strong>절대적인 기준이 아니라 상대적인 성능 차이</strong>라는 걸 생각해야한다.</p>\n<p><strong>메모리 내 연산</strong>을 하기에 반복적인 작업(머신러닝) 을 더욱 우수한 성능으로 진행할 수 있고</p>\n<p><strong>dag의 최적화, Lazy Evaluation</strong>(작업을 지연하여 실제로 액션이 호출될 때 까지 실행을 하지 않는다 -> 전체 작업 계획 최적화)</p>\n<p>또, 우수한 커뮤니티 생태계 등의 이유로 말하는 것이라고 생각한다.</p>\n<p>충분한 메모리 자원이 없을 땐 오히려 디스크 I/O를 사용하는 Map Reduce가 우수할 수 있기 때문이다.</p>\n<p>상황과 환경에 맞게 데이터 처리에 적합한 도구를 선택해야 하고</p>\n<p>그러기 위해 어떤 환경에서 어떤 도구가 효율적이고 우수한 지 공부할 필요가 확실하게 있다.</p>\n<p><a href=\"https://edureka.co/blog/rdd-using-spark/#pokemon-use-case\">참고로 본 사이트</a>에서 포켓몬 사용 사례를 한 번 보고 해보는 것도 이해하는데 도움이 될 거 같다.</p>","categories":["Spark","ALL"],"date":"August 23, 2024","description":"Spark RDD","id":"2e229263-a66a-5409-abb7-6fd684166e75","keywords":["Pipeline","RDD","Blog","Spark"],"slug":"/my-first-article/sparkrdd/","title":" 🌟 [Spark] Spark RDD","readingTime":{"text":"8 min read"}},"listingPagePath":"/blog"}},"staticQueryHashes":["3262260831","948380417"],"slicesMap":{}}