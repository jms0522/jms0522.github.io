{"componentChunkName":"component---node-modules-gatsby-theme-portfolio-minimal-src-templates-article-index-tsx","path":"/my-first-article/About-Kafka-deep-1/","result":{"pageContext":{"article":{"banner":{"alt":"Kafka","caption":null,"src":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB1klEQVR42pWS20vCYBTA/asC6UIEQVFa/QNdnFozTUjsQummZdZLSI9dtLQsNnvpRpFlD2l/wCJXUbTtqYTc5iaImp2pmGAPdeD7OJxzft93bqpSqSTLcvz2VhRF0AuFQrFYLP1NVHCWl7wGHeJyYhXTV1kqSiNQ81bhUb1hJ7CtH9HJknQVjdLJZI38apD6VxSYeXvr7OhgGTZCkmbUZBod41gW7DzPQwn1DCgf7+/pdDqfz1d/PiTJVnXzbjCkGxrGHE5I4fnpCYqfnZ4ReF6S5Iwovr68QOTVZdRus3ncC49JOpvNqu4pStvTyzLMgEa77Q8cHx0l4nGIy2QypjHU6/GcnZxO2+0TZjNqNGIOh33StrS46JybjxCEAvf1ajiO69dodwIKfJdIAAyJtbe2WS2Wm1gMALBAU/2bW3uh0ALualGrKYpS0o4QpLqpKRQMjgwOuTAcgiBtgN047ltdPQiHZ6amJq1WI6InCeIgvL+5vrHm88FdbhjD9HR1cywHPqvZMo6ilYbB5KGw9OcndIimaUEQsmWRJCmXy6VSKQU2IEhgy4/AqGT54vw8+fBQG1K12w1rU/Eq8IrXC6N2Y/ivS1L/Si3gZ87wYew6Jgr/Xs9vFqVLFScdcPIAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/63fdbbcf1c93c7c30e2a1c96954db211/be504/kafka.png","srcSet":"/static/63fdbbcf1c93c7c30e2a1c96954db211/966b5/kafka.png 80w,\n/static/63fdbbcf1c93c7c30e2a1c96954db211/37b8e/kafka.png 159w,\n/static/63fdbbcf1c93c7c30e2a1c96954db211/be504/kafka.png 318w","sizes":"(min-width: 318px) 318px, 100vw"},"sources":[{"srcSet":"/static/63fdbbcf1c93c7c30e2a1c96954db211/41d58/kafka.webp 80w,\n/static/63fdbbcf1c93c7c30e2a1c96954db211/d2420/kafka.webp 159w,\n/static/63fdbbcf1c93c7c30e2a1c96954db211/7b932/kafka.webp 318w","type":"image/webp","sizes":"(min-width: 318px) 318px, 100vw"}]},"width":660,"height":400.566037735849}}}},"body":"<h1>🚀 Apache Kafka Controller</h1>\n<p><img src=\"https://raw.githubusercontent.com/jms0522/jms0522.github.io/main/content/images/kafka/kafka.png\" alt=\"Kafka\"></p>\n<p>오늘은 Controller에 대해 알아보겠습니다.</p>\n<p>zookeeper로 관리하는 버전이 아닌, KRaft mode로 설명하겠습니다.</p>\n<p>KRaft mode에 대해선 다음 포스팅에 작성하겠습니다.</p>\n<h2>Controller는 무엇인가?</h2>\n<h3>리더 선출, 브로커 장애 감지 및 복구, 파티션 재배치, 메타 데이터 정보 교환</h3>\n<ul>\n<li>\n<p>클러스터에서 하나의 브로커가 컨트롤러 역할을 수행.</p>\n</li>\n<li>\n<p>컨트롤러는 나머지 브러커(팔로워)의 상태를 주기적으로 체크.</p>\n</li>\n<li>\n<p>죽은 브로커가 발생시, 담당하던 파티션의 새리더를 선출.</p>\n</li>\n<li>\n<p>새롭게 선출된 리더에 정보를 교환.</p>\n</li>\n<li>\n<p>메타데이터 정보 교환 (kraft)</p>\n</li>\n</ul>\n<h3>파티션 리더 선출?</h3>\n<p>카프카의 각 파티션에는 리더와 팔로워가 존재합니다.</p>\n<p>리더는 클라이언트의 읽기/쓰기 요청을 처리하고, 팔로워는 리더를 복제하여 리더가 중단, 변경 시 새로운 리더를 선출합니다.</p>\n<h3>브로커 추가 및 제거 감지</h3>\n<p>새로운 브로커가 클러스터에서 제거 및 추가 시, 감지하여 클러스터 상태를 업데이트 합니다 (리밸런싱)</p>\n<h3>클러스터 메터데이터 관리</h3>\n<p>실제 메시지 로그 아닌 브로커의 모든 상태를 기록하는 로그 데이터 관리를 합니다.</p>\n<p>여기서 메타데이터는 무엇일까요?</p>\n<p>카프카 클러스터를 운영하는데 있어 중요한 역할을 하는 로그로,</p>\n<ol>\n<li>브로커 정보</li>\n</ol>\n<ul>\n<li>각 브로커의 id,주소,포트 등</li>\n</ul>\n<ol start=\"2\">\n<li>파티션 및 토픽 정보</li>\n</ol>\n<ul>\n<li>각 토픽의 파티션 수, 레클리카 목록, 누가 리더인지.</li>\n</ul>\n<ol start=\"3\">\n<li>리더 - 팔로워 정보</li>\n</ol>\n<ul>\n<li>리더 브로커와 팔로워 브로커에 대한 정보.</li>\n</ul>\n<ol start=\"4\">\n<li>레플리카 상태</li>\n</ol>\n<ul>\n<li>각 파티션 레플리카가 어느 브로커에 있는지 및 레클리카가 최신 상태인지</li>\n</ul>\n<ol start=\"5\">\n<li>클러스터 현재 상태 정보</li>\n</ol>\n<ul>\n<li>컨트롤러 역할을 하고 있는 브로커에 대한 정보</li>\n</ul>","categories":["Kafka","ALL"],"date":"October 21, 2024","description":"Kafka 간단한 소개글입니다.","id":"99154462-45ab-5044-9a18-7c657e71b25a","keywords":["Pipeline","Kafka","Controller","Broker"],"slug":"/my-first-article/About-Kafka-deep-1/","title":" 🚀 [Kafka] About Kafka Controller ","readingTime":{"text":"3 min read"}},"listingPagePath":"/blog"}},"staticQueryHashes":["3262260831","948380417"],"slicesMap":{}}