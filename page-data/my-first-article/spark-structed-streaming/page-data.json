{"componentChunkName":"component---node-modules-gatsby-theme-portfolio-minimal-src-templates-article-index-tsx","path":"/my-first-article/spark-structed-streaming/","result":{"pageContext":{"article":{"banner":{"alt":"Spark","caption":"Photo by <u><a href=\"https://spark.apache.org\">Spark</a></u>","src":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAACQklEQVR42mP4Twz4+xdIfD2x+Wmm4d+Pb0Ai//4BCQbCOoHqfv8C0u+XND5OUHk7u/TXk9ufd857v6yF4S/Y1H9gAGfAAdySv18/Pit1+HZ218uW0NfdcY+i5V61RzGg2gHV/+fPHxDj718g/9fDq2+mZL9oCXu/oPbft89AL3w5tPp1T+Lf718YHj9+DFR38MChM2fOHjly9Nix4ydPnLx29drx4yeOHT5y+tL170fW3HFj+jAh+c/Xj2DT/r9sCPi0bRbIz4H+wa9evb59+/aDBw8/fPhw8cLFG9dvvHn95smTJ3fv3rt16xbISR8eH+kqmN7b/evf/xfXz39e1/u82vP/n98Mz58///79+4b1G/JzCxYsWAh084/vP6ZOmZadmbN2zVqgxn1790+fNa+ps6+1pb29d/K27oqPVS4PIiR/PrjC8OPHj5kzZqUkpx08eCg4MHTtmnWtLW1VldX79x3w8fLbumVbVGTMimXLmxuazE0t58yeAzTuz6d3v57c+vf3D0N+XmF6WubVq9eAorNmzU5NSc9Iz3z79i2Q297aUVNVW1xY+uvXr+KiUhcnt+nTZoBj/S8kgBkqyio93b0m9E/cvWt3aEj4kcNHYqLigM7eu3dfVmZOZUV1cWHJz58//X0DgMEZEhy2bt16oLbfv36CNAODNyIsqrysEmj/kcNHgUJnz5zNSM9qaW5dtXI1EG3csOnP7z8tzW1fv34FKu5o73z54iUQgDRv2by1ob4R7hhowsCe0v6hyQIAb+47xF+wYqUAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/be399145ad033fb2b5626e243b7bde07/5d48c/spark-cover.png","srcSet":"/static/be399145ad033fb2b5626e243b7bde07/4ee5e/spark-cover.png 78w,\n/static/be399145ad033fb2b5626e243b7bde07/b1f1f/spark-cover.png 156w,\n/static/be399145ad033fb2b5626e243b7bde07/5d48c/spark-cover.png 312w","sizes":"(min-width: 312px) 312px, 100vw"},"sources":[{"srcSet":"/static/be399145ad033fb2b5626e243b7bde07/ddb87/spark-cover.webp 78w,\n/static/be399145ad033fb2b5626e243b7bde07/e77d5/spark-cover.webp 156w,\n/static/be399145ad033fb2b5626e243b7bde07/b6f70/spark-cover.webp 312w","type":"image/webp","sizes":"(min-width: 312px) 312px, 100vw"}]},"width":660,"height":399.8076923076923}}}},"body":"<h1>💬 Apache Spark Streaming</h1>\n<p><img src=\"https://raw.githubusercontent.com/jms0522/jms0522.github.io/main/content/images/streaming1.png\" alt=\"Structured Streaming\"></p>\n<h1>🌟 Apache Spark 구조적 스트리밍(Structured Streaming)</h1>\n<p>구조적 스트리밍(Structured Streaming)은 Apache Spark에서 제공하는 실시간 데이터를 처리할 수 있는 도구입니다.</p>\n<p>배치및 스트리밍 처리,두 가지 작업을 모두 처리할 수 있는 기능을 제공합니다.</p>\n<h2>✅ 주요 개념</h2>\n<h3>1. <strong>연속 처리</strong></h3>\n<p>구조적 스트리밍은 스트리밍 데이터를 <strong>DataFrame</strong> 또는 <strong>Dataset</strong> API로 처리합니다.</p>\n<p>이를 통해 기존의 정적 데이터를 처리하던 방식과 동일한 코드로 실시간 데이터를 처리할 수 있습니다.</p>\n<h3>2. <strong>내결함성(Fault Tolerance)</strong></h3>\n<p>구조적 스트리밍은 Spark의 내장된 내결함성 메커니즘을 사용하여 데이터를 처리합니다.</p>\n<p>체크포인팅(checkpointing) 등의 기능을 통해 장애 발생 시 데이터 손실을 최소화하고 정확한 일관성을 유지할 수 있습니다.</p>\n<h3>3. <strong>확장성(Scalability)</strong></h3>\n<p>구조적 스트리밍은 Spark의 분산 처리 능력을 기반으로 하기 때문에, 매우 큰 규모의 스트리밍 데이터를 처리할 수 있습니다.</p>\n<p>필요에 따라 노드를 추가하거나 등의 방법으로 높은 확장성을 가지고 있습니다.</p>\n<h3>4. <strong>일관된 배치 및 스트리밍 처리</strong></h3>\n<p>구조적 스트리밍은 배치 처리와 스트리밍 처리 간의 API 차이를 최소화하여, 동일한 코드로 두 가지 작업을 모두 처리할 수 있습니다.</p>\n<h2>⚒️ 구성 요소</h2>\n<h3>1. <strong>Input Sources</strong></h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">![Input Sources](https://raw.githubusercontent.com/jms0522/jms0522.github.io/main/content/images/spark-streaming3.png)</code></pre></div>\n<p>구조적 스트리밍은 다양한 입력 소스를 지원합니다. Kafka, 파일 시스템(HDFS, S3 등), 소켓 등에서 실시간 데이터를 수집할 수 있습니다.</p>\n<h3>2. <strong>Processing Engine</strong></h3>\n<p>스트리밍 데이터를 마치 배치 데이터처럼 다룰 수 있어, SQL 쿼리를 사용하여 데이터를 쉽게 변환하고 분석할 수 있습니다.</p>\n<h3>3. <strong>Output Sinks</strong></h3>\n<p>구조적 스트리밍은 다양한 출력 싱크를 지원합니다. 파일 시스템, Kafka, 콘솔, 메모리 테이블 등으로 결과 데이터를 저장하거나 전달할 수 있습니다.</p>\n<h2>💫 구조적 스트리밍의 작동 방식</h2>\n<p>구조적 스트리밍은 <strong>마이크로 배치(Micro-Batch)</strong> 방식과 <strong>연속 처리(Continuous Processing)</strong> 방식을 통해 작동.</p>\n<ul>\n<li><strong>마이크로 배치</strong>: 실시간 데이터를 짧은 간격으로 작은 배치로 묶어 처리합니다. 이는 기존의 배치 처리 방식과 비슷하지만, 매우 짧은 간격으로 실행됩니다.</li>\n<li><strong>연속 처리</strong>: 연속적으로 데이터를 처리하며, 지연 시간을 줄이고 실시간성을 높여줍니다.</li>\n</ul>\n<h2>⚙️ 구조적 스트리밍의 주요 기능</h2>\n<h3>1. <strong>트리거(Trigger)</strong></h3>\n<p>트리거는 데이터 처리의 주기를 정의합니다. 기본값은 <code class=\"language-text\">micro-batch</code>로, 일정한 간격으로 데이터를 처리합니다.</p>\n<p>트리거 설정을 통해 주기를 선택할 수 있습니다.</p>\n<h3>2. <strong>상태 저장 처리(Stateful Processing)</strong></h3>\n<p>구조적 스트리밍은 윈도우 연산, 조인, 집계 등의 상태 저장 연산을 지원합니다.</p>\n<h3>3. <strong>Watermarking</strong></h3>\n<p>이벤트 타임 기반의 데이터에서 늦게 도착하는 데이터를 처리하기 위해 Watermarking을 사용할 수 있습니다.</p>\n<p>구조적 스트리밍은 데이터의 지연 허용 및 처리 가능 시간대를 설정할 수 있습니다.</p>\n<h2>🚀 구조적 스트리밍의 장점</h2>\n<ul>\n<li><strong>사용의 용이성</strong>: 기존의 배치 처리 코드와 동일한 API를 사용하여 스트리밍 데이터를 처리할 수 있어 학습 곡선이 낮습니다.</li>\n<li><strong>높은 신뢰성</strong>: 내장된 내결함성 메커니즘을 통해 데이터 손실을 최소화할 수 있습니다.</li>\n<li><strong>확장성</strong>: Spark의 분산 처리 능력을 통해 대규모 데이터 스트림을 효율적으로 처리할 수 있습니다.</li>\n<li><strong>유연성</strong>: 다양한 입력 소스 및 출력 싱크를 지원하여, 다양한 환경에서 사용할 수 있습니다.</li>\n</ul>\n<h2>🧑🏻‍💻 결론</h2>\n<p>스트리밍 처리는 데이터의 순서처리 , 중복제거 등 복잡하고 오류가 발생하기 쉬운 작업이 많다고 생각합니다.</p>\n<p>spark의 구조적 스트리밍으로 처리하면 마치 배치 처리 코드와 거의 비슷한 방식으로 스트리밍 처리가 가능하기에 어려움이 상당히 해소 될 거라고 생각합니다.</p>\n<p>마이크로 배치로 처리를 한다면 스트림을 작은 배치 단위로 넣어서 처리하기에 익숙한 패턴으로 스트림 데이터를 처리 할 수 있을거라 생각합니다.</p>\n<p>실시간 데이터 처리에 진입 장벽을 낮추는데 도움이 되는 도구라고 생각합니다.</p>\n<p>감사합니다.</p>","categories":["Spark","ALL"],"date":"August 25, 2024","description":"Spark의 구조적 스트리밍에 대해.","id":"b0e77ff3-3eba-5708-b53d-6f3adf9d5247","keywords":["Pipeline","Structured Streaming","Blog","Spark"],"slug":"/my-first-article/spark-structed-streaming/","title":" 🌟 [Spark] Structured Streaming ","readingTime":{"text":"7 min read"}},"listingPagePath":"/blog"}},"staticQueryHashes":["3262260831","948380417"],"slicesMap":{}}