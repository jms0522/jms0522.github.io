{"componentChunkName":"component---node-modules-gatsby-theme-portfolio-minimal-src-templates-article-index-tsx","path":"/my-first-article/About-Elasticsearch-InvertedIndex/","result":{"pageContext":{"article":{"banner":{"alt":"Inverted Index","caption":"Photo by <u><a href=\"https://esbook.kimjmin.net/06-text-analysis/6.1-indexing-data\">Inverted Index Guide</a></u>","src":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA20lEQVR42sWSPQuDQAyG+/9xcBA3RRBFBMHBj0UFHUVxEBxd/BMO6lsSiNQiRWilgeO45PLkveQe+LE9bgeu67qvZVn2fds2jouPzrLfr5AqkTVNgyAIUNc1yrJEHMfwfR9VVcF1XfYVRYE0TWGaJvI8xziOnCtKD8C2beF5HqIogmVZDKRk27a5EBVMkgSO40DXdRiGgb7v8co4fbIEh2HgxCzLWFEYhgcAqfrYQ7lAjSebpgmKorBKTdOgqiq6rtuH8w67NBRRQoB5nk8hl4Gi+Ox7/O9jfwt8AqvpmQ0/tt9oAAAAAElFTkSuQmCC"},"images":{"fallback":{"src":"/static/07234f2e857a04efb6593044576677f0/bc51f/inverted-cover.png","srcSet":"/static/07234f2e857a04efb6593044576677f0/41200/inverted-cover.png 165w,\n/static/07234f2e857a04efb6593044576677f0/f979a/inverted-cover.png 330w,\n/static/07234f2e857a04efb6593044576677f0/bc51f/inverted-cover.png 660w","sizes":"(min-width: 660px) 660px, 100vw"},"sources":[{"srcSet":"/static/07234f2e857a04efb6593044576677f0/322ad/inverted-cover.webp 165w,\n/static/07234f2e857a04efb6593044576677f0/de3b3/inverted-cover.webp 330w,\n/static/07234f2e857a04efb6593044576677f0/2b2b5/inverted-cover.webp 660w","type":"image/webp","sizes":"(min-width: 660px) 660px, 100vw"}]},"width":660,"height":400}}}},"body":"<p>안녕하세요! 오늘은 역색인 (Inverted Index)에 대해서 알아보겠습니다.</p>\n<p>Elasticsearch 는 역색인 구조로 알려져 있는데요, 어떤 장점이 있는걸까요?</p>\n<p>이제부터 한 번 알아보겠습니다.</p>\n<h1>역색인 (Inverted Index) 이란?</h1>\n<p>문서 집합 내의 단어와 그 단어가 포함된 문서들의 목록을 맵핑 하는 방식입니다.</p>\n<p>이런식으로 말을 하니까 뭔가 어렵게 느껴지는데 <a href=\"https://esbook.kimjmin.net/06-text-analysis/6.1-indexing-data\">ElasticGuide</a>에 나온 설명을 한번 봅시다.</p>\n<p>일반 RDBMS에서는</p>\n<table>\n<thead>\n<tr>\n<th><strong>ID</strong></th>\n<th><strong>Text</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>doc1</td>\n<td>The quick brown fox</td>\n</tr>\n<tr>\n<td>doc2</td>\n<td>The quick brown fox jumps over the lazy dog</td>\n</tr>\n<tr>\n<td>doc3</td>\n<td>The quick brown fox jumps over the quick dog</td>\n</tr>\n<tr>\n<td>doc4</td>\n<td>Brown fox brown dog</td>\n</tr>\n<tr>\n<td>doc5</td>\n<td>Lazy jumping dog</td>\n</tr>\n</tbody>\n</table>\n<p>이런 테이블에 Text에 'fox'를 찾는다고 가정하면 Text 열을 한 줄씩 내려가면서 데이터 값을 가져올텐데요.</p>\n<table>\n<thead>\n<tr>\n<th><strong>ID</strong></th>\n<th><strong>Text</strong></th>\n<th><strong>결과</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>doc1</td>\n<td>The quick brown <strong>fox</strong></td>\n<td>fox (O) → 선택</td>\n</tr>\n<tr>\n<td>doc2</td>\n<td>The quick brown <strong>fox</strong> jumps over the lazy dog</td>\n<td>fox (O) → 선택</td>\n</tr>\n<tr>\n<td>doc3</td>\n<td>The quick brown <strong>fox</strong> jumps over the quick dog</td>\n<td>fox (O) → 선택</td>\n</tr>\n<tr>\n<td>doc4</td>\n<td>Brown <strong>fox</strong> brown dog</td>\n<td>fox (O) → 선택</td>\n</tr>\n<tr>\n<td>doc5</td>\n<td>Lazy jumping dog</td>\n<td>fox (X) → 제외</td>\n</tr>\n</tbody>\n</table>\n<p>row 안에 데이터를 모두 읽어야 하고 'like'연산을 수행하기에 시간이 오래걸리고, 속도도 느립니다.</p>\n<p>그렇다면 역색인 구조는 어떨까요?</p>\n<table>\n<thead>\n<tr>\n<th><strong>텀(Term)</strong></th>\n<th><strong>ID</strong></th>\n<th><strong>텀(Term)</strong></th>\n<th><strong>ID</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>The</td>\n<td>doc1, doc2, doc3</td>\n<td>quick</td>\n<td>doc1, doc2, doc3</td>\n</tr>\n<tr>\n<td>brown</td>\n<td>doc1, doc2, doc3, doc4</td>\n<td>fox</td>\n<td>doc1, doc2, doc3, doc4</td>\n</tr>\n<tr>\n<td>jumps</td>\n<td>doc2, doc3</td>\n<td>over</td>\n<td>doc2, doc3</td>\n</tr>\n<tr>\n<td>the</td>\n<td>doc2, doc3</td>\n<td>lazy</td>\n<td>doc2</td>\n</tr>\n<tr>\n<td>dog</td>\n<td>doc2, doc3, doc4, doc5</td>\n<td>Brown</td>\n<td>doc4</td>\n</tr>\n<tr>\n<td>Lazy</td>\n<td>doc5</td>\n<td>jumping</td>\n<td>doc5</td>\n</tr>\n</tbody>\n</table>\n<p>이렇게 저장한 게 역색인 구조인데요.</p>\n<p>역인덱스는 보통 <strong>찾아보기 페이지</strong>에 많이 비유를 하는 거 같습니다.</p>\n<p>위에 표에 보이는바와 같이 추출된 키워드 (토큰화와 정규화를 거칩니다.) 를 <strong>텀(Term)</strong> 이라고 하고,</p>\n<p>이를 이용해서 특정 키워드를 포함하고 있는 doc Id를 바로 얻을 수 있습니다.</p>\n<p>또한 역색인은 Id 값을 리스트 (역색인 리스트) 형태로 저장하기에 큰 속도의 저하 없이 빠르게 검색이 가능합니다.</p>\n<p>Term, 즉 단어가 Key가 되고 문서의 식별자 doc Id가 Value가 되는 것 입니다.</p>\n<h2>장점과 단점</h2>\n<h3>장점</h3>\n<ul>\n<li>\n<p>빠른 검색 속도</p>\n</li>\n<li>\n<p>효율적인 공간의 사용으로 대규모 문서 집합에서도 효율적입니다.</p>\n</li>\n<li>\n<p>문서가 추가 혹은 삭제 할 때 역색인 리스트를 업데이트 하기 용이합니다.</p>\n</li>\n</ul>\n<h3>단점</h3>\n<ul>\n<li>\n<p>초기 색인 생성 비용</p>\n</li>\n<li>\n<p>실시간 업데이트가 힘듬</p>\n</li>\n<li>\n<p>색인관리의 복잡함</p>\n</li>\n</ul>\n<hr>\n<h2>느낀점</h2>\n<p>오늘은 Elasticsearch에 역색인에 대해 알아보았는데, Elasticsearch에 대해서 잘 몰랐던 거 같습니다.</p>\n<p>역색인 구조라는 걸 알면서 역색인에 대해 깊이 모르고 있었네요..</p>\n<p>열심히 공부하겠습니다.</p>","categories":["ELK","Elasticsearch","ALL"],"date":"October 14, 2024","description":"역색인에 대하여","id":"eb6bdacd-73dc-5402-ba71-0b60e6c1aa00","keywords":["Pipeline","Elasticsearch","Inverted Index","역색인"],"slug":"/my-first-article/About-Elasticsearch-InvertedIndex/","title":" ⚙️ [ELK] Inverted Index ? ","readingTime":{"text":"4 min read"}},"listingPagePath":"/blog"}},"staticQueryHashes":["3262260831","948380417"],"slicesMap":{}}