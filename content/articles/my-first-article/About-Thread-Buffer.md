---
title: " 🚀 [etc] Thread & Buffer - 1 "
description: "Thread & Buffer 간단한 소개글입니다."
date: "2024-11-14"
banner:
  src: "../../images/python/thread-buffer.png"
  alt: "Python"
  caption:
categories:
  - "ETC"
  - "ALL"
keywords:
  - "Python"
  - "Thread"
  - "Buffer"
---
# 🪵 Thread 

Python 으로 작업을 하다보면 멀티스레딩을 사용해야 하는 경우가 많은데, 파이썬은 GIL (Global Interpreter Lock) 으로 

CPU를 동시에 쓰는 것을 제한하고 있어서 한 번에 하나의 스레드만 코드를 실행 시킬 수 있습니다.

물론 multiprocessing 모듈을 사용할 수 있는데 기본적으로 파일 기반 잠금이나 잠금 개체 혹은 queue를 사용하게 코드를 만들게 됩니다.

queue 같은 경우는 데이터를 queue에 쌓아두고 새로운 thread 로 이 데이터를 읽는 역할을 해서 데이터를 빼내는 방법으로 진행 했습니다.

또한 많은 프로세스가 하나의 파일의 대한 작업을 수행할 때 I/O로 인하여 충돌이 발생할 수 있는데 asyncio, concurrent.futures 같은

비동기 방법이나 스레딩 방법을 사용하는 방법이 있습니다.

fcntl. os 모듈 같은 경우 충돌을 방지하는 목적으로 순차적으로 처리하게 되는데 그 도중 필연적으로 다른 프로세스들은 대기 상태가 생기게 되고,

이것은 데이터의 병목 현상과 성능을 저하시킬 우려가 있습니다.

# Thread ?

일단 서론이 너무 길었는데 스레드란 결국 실행 흐름을 나누는 기본 단위입니다.

하나의 프로세스는 여러 개의 스레드를 가질 수 있습니다.

각 스레드는 독립적이게 작업을 수행하면서도, 다른 스레드와 메모리를 공유할 수 있습니다.

메모리 공간을 공유하기에 데이터를 주고 받기가 편리하고 프로세스보다 가볍게 관리가 가능합니다.

병렬로 실행이 가능하지만 앞서 말했지만 파이썬에서는 제약이 좀 있습니다.

또한 동기화가 필요한데, 같은 자원에 여러 스레드가 한 번에 접근을 한다면 데이터가 손상될 가능성이 있습니다.

다음 포스트에선 buffer에 대해서 알아보고 차이점과 같이 쓸 때 좋은 이점에 대해서 포스팅 하겠습니다 🫡